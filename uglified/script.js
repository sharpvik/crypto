$(document).ready(function(){function e(e){function t(n){return n<10?"0"+n.toString():n.toString()}function r(n){return n%7}function a(n){return n%6}function o(n){return n%26}function u(e,t){for(n=0;n<t;n++){var r=e[0];for(i=0;i<e.length-1;i++)afterStep=i+1,e[i]=e[afterStep];e[e.length-1]=r}return e}var c=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],s=["a","b","c","d","e","f"],l=["g","h","i","j","k","l","m"],f=["n","o","p","q","r","s"],p=["t","u","v","w","x","y","z"],d=e,h=function(){var e=[];for(i=0;i<5;i++)e.push(FF.multiWholeRandom(1,100));var r="";for(n=0;n<5;n++)r+=t(e[n]);return e.push(r),e}();FF.html(".decryptionKey",h[5]);var v=function(){var n=[];for(i=0;i<h.length-2;i++){var e=h[i];i%2==0?n.push(a(e)):n.push(r(e))}return n}(),g=function(){function n(n){for(i=0;i<n.length;i++)e.push(n[i])}var e=[],t=u(s,v[0]),r=u(l,v[1]),a=u(f,v[2]),o=u(p,v[3]);return n(t),n(r),n(a),n(o),e}();betaEncripted=u(g,o(h[4]));var y=function(e){var t=[];for(i=0;i<e.length;i++){var r=0;for(n=0;n<c.length;n++){var a=e.slice(i,i+1);a==c[n]&&(t.push(betaEncripted[n]),r++)}0==r&&t.push(a)}return t=t.join("")}(d);return y}function t(e,t){function r(n){return n%7}function a(n){return n%6}function o(n){return n%26}function u(e,t){for(n=0;n<t;n++){var r=e[0];for(i=0;i<e.length-1;i++)afterStep=i+1,e[i]=e[afterStep];e[e.length-1]=r}return e}var c=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],s=["a","b","c","d","e","f"],l=["g","h","i","j","k","l","m"],f=["n","o","p","q","r","s"],p=["t","u","v","w","x","y","z"],d=t;Keys=function(){var n=[];for(i=0;i<e.length;i+=2)n.push(parseInt(e.slice(i,i+2)));return n}();var h=function(){var n=[];for(i=0;i<Keys.length-1;i++){var e=Keys[i];i%2==0?n.push(a(e)):n.push(r(e))}return n}(),v=function(){function n(n){for(i=0;i<n.length;i++)e.push(n[i])}var e=[],t=u(s,h[0]),r=u(l,h[1]),a=u(f,h[2]),o=u(p,h[3]);return n(t),n(r),n(a),n(o),e}();betaEncripted=u(v,o(Keys[4]));var g=function(e){var t=[];for(i=0;i<e.length;i++){var r=0;for(n=0;n<betaEncripted.length;n++){var a=e.slice(i,i+1);a==betaEncripted[n]&&(t.push(c[n]),r++)}0==r&&t.push(a)}return t=t.join("")}(d);return g}function r(){var n=FF.getValue("#in1").length,e=FF.getValue("#in4").length;return n>0&&e>0?($.ajax({type:"POST",url:"mail.php",data:$("send_form").serialize()}).done(function(){$(".darkener").addClass("form_not_active"),setTimeout(function(){$(".darkener").addClass("not_active")},300),alert("Message has been successfully sent!")}),!1):void alert("You did not fill all the fields!")}$(".half").on("click",function(){FF.cleanEl(".newMessage"),$(".half").toggleClass("active"),$(".encrypt_app, .decrypt_app").toggleClass("not_active");var n=$(this).html();"DECRYPT"==n?FF.html(".decryptionKey","Your decrypted message will appear here"):FF.html(".decryptionKey","Your encrypted message will appear here")}),$(".encrypt_button").on("click",function(){var n=FF.getValue("#encrypt_message"),t=e(n);$(".decryptionKey").attr("class","decryptionKey");FF.html(".newMessage",t)}),$(".decrypt_button").on("click",function(){var n=FF.getValue("#decryptionKey"),e=FF.getValue("#decrypt_message"),r=t(n,e);r.length>0&&($(".decryptionKey").addClass("not_active"),FF.html(".newMessage",r))}),$(".send_button").on("click",function(){$(".darkener").removeClass("not_active"),setTimeout(function(){$(".darkener").removeClass("form_not_active")},50);var n=FF.html(".newMessage");$("#inText").attr("value",n)}),$(".cancel_button").on("click",function(){$(".darkener").addClass("form_not_active"),setTimeout(function(){$(".darkener").addClass("not_active")},300)}),$("#form").submit(r)});